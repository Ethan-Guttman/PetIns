<div class="container">
    <h1>Customer Search</h1>
    
    <mat-form-field>
        <input
            name="customerSearch"
            placeholder="Search Customers"
            (input)="filter($event)"
            matInput
        />
    </mat-form-field>

    <table mat-table [dataSource]="filteredSource">
        @for (column of columns; track column) {
            <ng-container [matColumnDef]="column.columnDef">
                <th mat-header-cell *matHeaderCellDef>
                    {{column.header}}
                  </th>
                  <td mat-cell *matCellDef="let row">
                    {{column.cell(row)}}
                  </td>
            </ng-container>
        }
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    
  </div>
